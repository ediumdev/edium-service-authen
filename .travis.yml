language: java
jdk: oraclejdk8
before_install:
  - mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
install:
- wget https://github.com/google/protobuf/releases/download/v3.6.1/protobuf-all-3.6.1.tar.gz
- tar -xzvf protobuf-all-3.6.1.tar.gz
- pushd protobuf-3.6.1 && ./configure --prefix=/usr && make && sudo make install && popd
script:
- mvn clean install
- bash <(curl -s https://codecov.io/bash)
cache:
  directories:
  - "$HOME/.m2"
deploy:
  provider: elasticbeanstalk
  access_key_id: ${access_key_id}
  secret_access_key:
    secure: ${secret_access_key}
  region: ap-southeast-1
  app: edium-service-auth
  env: edium-service-auth-environment
  bucket_name: hienhv
env:
  global:
  - secure: HKI1lG8qJhf7Grrf6sOIYgjAXsAoPK+ZhbG0IIPCEde6LBBSoowp5sky9/9+aVg7KBckl8M4TwRmz2caxHWvMZdJOvvCgjM7hqRboSoLhHzwPIp2x4B4mEyYVh9lhXy55IZnhjLkg82abyF4zeEgER74YdkGGiyOaSvma9ByoT/4wo8yihUK4tdV5rBzQKyG4TWss8djUsajeDbxQDaAjynUZ2lzPgqzFQbyIuN9enn0pxPGXtMaN+VStMsvDYXMRPe6huKWAunVQBwNa4gQkbZPqNVHpybc1RIu54nFeVJQhTCL2FYWxNOe3cr8K1n3g2uJb/SaTaUcjpiZcPgRYSZZf129sQkDOGCyRVje4s3Fdn8BI7xJ3ud6dvJN7WvpYaqpddUAtM2cpgMIYHi5t51MY+cteg4gElUYZ7ovoBDGjX5CdFGSIqQ8LXCpJrLKqKFmrKZx0dXkENlzaberkQn+1bcn8Co7grw96H+Qw7AwA0TtC/Pgz2Z4lqpLX1wtPtJSCCYqsWzSMN1fqmS2GJRZ5yOIn17UZ2mMM2BQoGE53x/I7t61kglVGWy+GdWkpTkiGkw8YZma+yFaTx66YBgKzLMxI91Feq0X7TAnDpGUU1ddA0uvDlHzC+2RLlZJDCDRViVcxL3qpHhtMv5boh0aqHpc6wSXXXqZEmLUQis=
  - secure: ZjHJCjUKfpyytguMe55Sc/rIWQvCDn/HpzBbcyo4FrhM161HjSATVt6Uqoz7Bgwl3b5t1Vl6/no60PaIuzNt3pVjen1q//UR4n1oMEf36Vz6BD98JAbX7Xt2w8tDQwna+YQiTAB1RQJR+l7dipNr8RPgnIQjqJRMsBlY5mia7eQY60NatohTxoZ6x+CA6jocHrhnaoRSTbm5igi5v7AbCnNGlq6vKYBQKEyA3P/LwwO9D+tHC4rGnOh0Fr+Gtk2amdp7CJiFkgqYH5X+XMqfyInI9/CdLip4zmMk7niCridiOLXnQJ+ZYAQc/k5i1wLBFqvXLsERfjFn1Ca17jns1Kcti5mtn2ak10tHQ/ZIaX+sXhc20N9jYmhS3ieT1krF37V4Q5eU6a6WxDk0EubV0Lw1ouwDYRGRq3We/ZkndrbSILFoAKvMTiU9ItRZkWl5isxj+FJpGqno43cuxBbo3iZo4/uWy3DV5eZeoRG+XlVTzm4/AnvagMmw4G+FiGks7oWPN+E/2cEaDjRZ+fUgG+zpXGVvvisLJlQykVjigpWDV1qf2Cg/i2mNkFDMc6Iw/x54kPjqcx22B/nsrkdWPlRa3Ac5JK4AdJVRhsetaTHEIQqr2sRzkXVQ7V7Db/XFzPGoCdrVu9IzAZgQ3DOs9dJjCt5sio8i9TNzvjk6+PI=
